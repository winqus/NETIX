<!-- eslint-disable @angular-eslint/template/label-has-associated-control -->
<div class="text-left">
  @if (title !== '') {
    <label class="block mb-1 text-sm font-medium">{{ title }}</label>
  }
  @if (iconName !== '') {
    <div class="relative">
      <div class="absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none">
        <app-svg-icons [name]="iconName" size="20" color="grey"></app-svg-icons>
      </div>
      <input
        class="input input-bordered block w-full ps-10 p-2 mb-4 rounded-md read-only:bg-neutral-900"
        [type]="type"
        [accept]=""
        [placeholder]="placeholder"
        [value]="value"
        (input)="onInputChange($event)"
        [readOnly]="readonly"
        [attr.tabindex]="readonly ? -1 : null"
        [disabled]="disabled"
      />
      @if (results.length > 0) {
        <div class="w-full h-[20%] absolute inset-y-12 start-0 z-10">
          <div class="border bg-black border-gray-300 rounded-md mt-1 max-h-48 overflow-y-auto">
            @for (result of results; track result) {
              <option class="cursor-pointer px-4 py-2 hover:bg-gray-500" (click)="onOptionClick(result)">
                {{ result }}
              </option>
            }
          </div>
        </div>
      }
    </div>
  } @else {
    <input
      class="input input-bordered block w-full p-2 mb-4 rounded-md read-only:bg-neutral-900"
      [type]="type"
      [accept]=""
      [placeholder]="placeholder"
      [value]="value"
      (input)="onInputChange($event)"
      [readOnly]="readonly"
      [attr.tabindex]="readonly ? -1 : null"
      [class.readonly-input]="readonly"
      [disabled]="disabled"
    />
  }
</div>
